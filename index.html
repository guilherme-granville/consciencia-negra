<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flashcards: Consci√™ncia e Rela√ß√µes Raciais</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f9fb;
        }

        /* Container que permite o efeito 3D */
        .flashcard-container {
            perspective: 1000px;
            height: 420px; /* Ajustado para garantir que o conte√∫do caiba confortavelmente */
        }

        /* O cart√£o real (frente e verso) */
        .flashcard-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            border-radius: 16px;
        }

        /* Classe para virar o cart√£o */
        .is-flipped {
            transform: rotateY(180deg);
        }

        /* Frente e Verso do cart√£o */
        .flashcard-front, .flashcard-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden; /* Oculta a face de tr√°s durante a rota√ß√£o */
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 1.5rem; 
            border-radius: 16px;
            color: white;
            cursor: pointer;
            text-align: center;
            /* Garante renderiza√ß√£o de texto suave no verso */
            text-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }

        /* Estilo espec√≠fico para a parte de tr√°s */
        .flashcard-back {
            transform: rotateY(180deg);
            justify-content: flex-start; /* Alinha o conte√∫do ao topo para melhor disposi√ß√£o */
            padding-top: 1.5rem;
            overflow-y: auto;
        }

        /* Scrollbar customizada para o verso do card e caixas de output */
        .flashcard-back::-webkit-scrollbar,
        .gemini-output-box::-webkit-scrollbar {
            width: 6px;
        }
        .flashcard-back::-webkit-scrollbar-track,
        .gemini-output-box::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
        }
        .flashcard-back::-webkit-scrollbar-thumb,
        .gemini-output-box::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 3px;
        }
        
        /* Estilos para o texto de output da IA */
        .gemini-output-box {
            max-height: 120px;
            overflow-y: auto;
            text-align: left !important; /* Sobrescreve o alinhamento central do pai */
            font-size: 0.85rem;
            line-height: 1.4;
        }

        .icon-size {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
        }

        .btn-glass {
            backdrop-filter: blur(4px);
            border: 1px solid rgba(255,255,255,0.3);
        }

        /* Ajustes responsivos para tamanho de texto em dispositivos m√≥veis */
        @media (max-width: 640px) {
            .flashcard-container {
                height: 450px;
            }
            .flashcard-front p {
                font-size: 0.95rem;
            }
            .flashcard-back p {
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body class="p-4 sm:p-8 min-h-screen">

    <header class="text-center mb-12">
        <div class="inline-block px-4 py-1 mb-4 bg-gray-200 rounded-full text-sm font-semibold text-gray-700 tracking-wide uppercase">M√™s da Consci√™ncia Negra</div>
        <h1 class="text-3xl sm:text-5xl font-extrabold text-gray-900 tracking-tight mb-4">
            Flashcards: <span class="text-indigo-600">Identidade & Resist√™ncia</span>
        </h1>
        <p class="text-lg text-gray-600 max-w-2xl mx-auto leading-relaxed">
            Uma ferramenta interativa para explorar conceitos fundamentais, hist√≥ria e personalidades. 
            <br><span class="text-sm text-gray-500">Clique no cart√£o para revelar a resposta e use a IA para aprofundar o debate.</span>
        </p>
        
        <!-- Bot√£o utilit√°rio para reiniciar o v√≠deo -->
        <button onclick="resetAllCards()" class="mt-6 text-sm text-gray-500 hover:text-indigo-600 underline cursor-pointer transition-colors">
            Virar todos os cart√µes para baixo (Reset)
        </button>
    </header>

    <div id="flashcards-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-6 max-w-8xl mx-auto pb-20">
        <!-- Os cart√µes ser√£o injetados aqui pelo JavaScript -->
    </div>

    <script type="module">
        // Imports opcionais do Firebase (mantidos para compatibilidade futura se necess√°rio)
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        
        // Vari√°veis de ambiente (Seguran√ßa e Configura√ß√£o)
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : null;
        
        // Inicializa√ß√£o b√°sica do Firebase (silenciosa se n√£o houver config)
        if (firebaseConfig) {
            try {
                const app = initializeApp(firebaseConfig);
                const auth = getAuth(app);
            } catch (e) {
                console.log("Firebase init skipped or failed (not critical for view-only mode).");
            }
        }

        // Configura√ß√£o da API Gemini
        const apiKey = ""; // Deixe vazio para usar o proxy do ambiente
        const API_URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;

        /**
         * Fetch com exponential backoff para lidar com limites de requisi√ß√£o
         */
        async function fetchWithExponentialBackoff(url, options, retries = 0) {
            try {
                const response = await fetch(url, options);
                if (response.status === 429 && retries < 3) {
                    const delay = Math.pow(2, retries) * 1000;
                    await new Promise(resolve => setTimeout(resolve, delay));
                    return fetchWithExponentialBackoff(url, options, retries + 1);
                }
                if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                return response;
            } catch (error) {
                if (retries < 3) {
                    const delay = Math.pow(2, retries) * 1000;
                    await new Promise(resolve => setTimeout(resolve, delay));
                    return fetchWithExponentialBackoff(url, options, retries + 1);
                }
                throw error;
            }
        }

        /**
         * Gera exemplo pr√°tico usando Gemini
         */
        async function generateExample(topic, definition) {
            const systemPrompt = "Voc√™ √© um educador especialista em Rela√ß√µes Raciais no Brasil. Crie um exemplo pr√°tico, curto e impactante (m√°x 3 frases) que ilustre o conceito. Use linguagem acess√≠vel mas contundente.";
            const userQuery = `Conceito: ${topic}. Defini√ß√£o: ${definition}`;

            const payload = {
                contents: [{ parts: [{ text: userQuery }] }],
                systemInstruction: { parts: [{ text: systemPrompt }] },
            };

            try {
                const response = await fetchWithExponentialBackoff(API_URL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                const result = await response.json();
                return result.candidates?.[0]?.content?.parts?.[0]?.text?.trim() || "N√£o foi poss√≠vel gerar.";
            } catch (error) {
                console.error(error);
                return "Erro na conex√£o.";
            }
        }

        /**
         * Gera pergunta de debate usando Gemini
         */
        async function generateDiscussionQuestion(topic, definition) {
            const systemPrompt = "Voc√™ √© um mediador de debates. Crie UMA pergunta provocativa e aberta para iniciar uma discuss√£o em grupo sobre este tema, focando na realidade brasileira atual.";
            const userQuery = `Gere uma pergunta de debate sobre: ${topic} (${definition})`;

            const payload = {
                contents: [{ parts: [{ text: userQuery }] }],
                systemInstruction: { parts: [{ text: systemPrompt }] },
            };

            try {
                const response = await fetchWithExponentialBackoff(API_URL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                const result = await response.json();
                return result.candidates?.[0]?.content?.parts?.[0]?.text?.trim() || "N√£o foi poss√≠vel gerar.";
            } catch (error) {
                console.error(error);
                return "Erro na conex√£o.";
            }
        }

        // Dados dos Flashcards
        const flashcardsData = [
            // --- 1. Formas de Racismo (5 cards) ---
            {
                topic: "Racismo Estrutural",
                question: "O que √© 'Racismo Estrutural'?",
                answer: "Conjunto de pr√°ticas, h√°bitos e estruturas sociais que normalizam a discrimina√ß√£o racial, tornando-a parte invis√≠vel do cotidiano e das institui√ß√µes.",
                emoji: "üèóÔ∏è",
                colorClass: "bg-zinc-700"
            },
            {
                topic: "Racismo Institucional",
                question: "Defina 'Racismo Institucional'.",
                answer: "Falha das institui√ß√µes em prover servi√ßos adequados a pessoas devido √† sua cor, cultura ou origem √©tnica, manifestando-se em normas e preconceitos.",
                emoji: "üèõÔ∏è",
                colorClass: "bg-slate-600"
            },
            {
                topic: "Racismo Ambiental",
                question: "O que significa 'Racismo Ambiental'?",
                answer: "Injusti√ßa social que exp√µe comunidades marginalizadas e minorias raciais de forma desproporcional a riscos ambientais, como lix√µes e polui√ß√£o.",
                emoji: "üè≠",
                colorClass: "bg-emerald-700"
            },
            {
                topic: "Racismo Recreativo",
                question: "O que √© 'Racismo Recreativo'?",
                answer: "√â o ato de usar o humor (piadas, apelidos) para disfar√ßar a discrimina√ß√£o racial, tratando o preconceito como 'brincadeira' para ofender.",
                emoji: "üé≠",
                colorClass: "bg-orange-600"
            },
            {
                topic: "Genoc√≠dio Negro",
                question: "O que significa 'Genoc√≠dio Negro'?",
                answer: "Refere-se ao exterm√≠nio sistem√°tico da popula√ß√£o negra, seja pela viol√™ncia policial direta (homic√≠dios) ou pela nega√ß√£o de direitos b√°sicos (sa√∫de, moradia).",
                emoji: "üíî",
                colorClass: "bg-red-800"
            },

            // --- 2. Identidade e Conceitos (6 cards) ---
            {
                topic: "Colorismo",
                question: "O que √© o fen√¥meno do Colorismo?",
                answer: "Discrimina√ß√£o baseada na tonalidade da pele: quanto mais pigmentada a pele e mais negr√≥ides os tra√ßos, maior a exclus√£o e o preconceito sofridos.",
                emoji: "üé®",
                colorClass: "bg-orange-700"
            },
            {
                topic: "Autodeclara√ß√£o",
                question: "Qual a import√¢ncia da 'Autodeclara√ß√£o'?",
                answer: "√â um ato pol√≠tico e identit√°rio onde o indiv√≠duo se reconhece como parte de um grupo racial. Fundamental para pol√≠ticas p√∫blicas e censo.",
                emoji: "üó£Ô∏è",
                colorClass: "bg-blue-700"
            },
            {
                topic: "Negritude",
                question: "O que o conceito de Negritude prop√µe?",
                answer: "A tomada de consci√™ncia do valor da cultura negra, rejeitando a assimila√ß√£o cultural e celebrando a heran√ßa africana com orgulho.",
                emoji: "‚úäüèø",
                colorClass: "bg-neutral-800"
            },
            {
                topic: "Preto vs. Pardo (IBGE)",
                question: "Qual a diferen√ßa entre 'Preto' e 'Pardo'?",
                answer: "No IBGE, 'Preto' √© quem se autodeclara com essa cor. 'Pardo' √© quem se declara com uma mistura de cores. Ambos formam o grupo de 'Negros'.",
                emoji: "üìä",
                colorClass: "bg-amber-700"
            },
            {
                topic: "Interseccionalidade",
                question: "O que √© 'Interseccionalidade'?",
                answer: "Conceito (Kimberl√© Crenshaw) que descreve como opress√µes (ra√ßa, g√™nero, classe) se sobrep√µem, criando experi√™ncias de discrimina√ß√£o √∫nicas.",
                emoji: "üß©",
                colorClass: "bg-purple-600"
            },
            {
                topic: "Solid√£o da Mulher Negra",
                question: "O que define a 'Solid√£o da Mulher Negra'?",
                answer: "Fen√¥meno social e afetivo onde mulheres negras s√£o preteridas em relacionamentos e enfrentam a aus√™ncia de redes de apoio s√≥lidas.",
                emoji: "üë§",
                colorClass: "bg-fuchsia-800"
            },


            // --- 3. Combate e Repara√ß√£o (6 cards) ---
            {
                topic: "Pacto da Branquitude",
                question: "O que √© o 'Pacto da Branquitude'?",
                answer: "Acordo n√£o verbal de cumplicidade entre pessoas brancas que preserva privil√©gios raciais e protege seus pares de serem responsabilizados pelo racismo.",
                emoji: "ü§ù",
                colorClass: "bg-gray-500"
            },
            {
                topic: "Lugar de Fala",
                question: "Explique o conceito de 'Lugar de Fala'.",
                answer: "N√£o √© sobre quem pode falar, mas de onde se fala. Reconhece que diferentes grupos sociais t√™m experi√™ncias e perspectivas √∫nicas sobre as opress√µes.",
                emoji: "üì£",
                colorClass: "bg-cyan-700"
            },
            {
                topic: "A√ß√µes Afirmativas",
                question: "Para que servem as A√ß√µes Afirmativas?",
                answer: "Pol√≠ticas focalizadas que visam corrigir desigualdades hist√≥ricas acumuladas, garantindo oportunidades a grupos discriminados (ex: cotas).",
                emoji: "‚öñÔ∏è",
                colorClass: "bg-indigo-700"
            },
            {
                topic: "Letramento Racial",
                question: "O que √© 'Letramento Racial'?",
                answer: "Processo de reeduca√ß√£o racial que permite ao indiv√≠duo desconstruir formas de pensar e agir racistas, compreendendo a branquitude e negritude.",
                emoji: "üìö",
                colorClass: "bg-purple-700"
            },
            {
                topic: "Repara√ß√£o Hist√≥rica",
                question: "O que busca a 'Repara√ß√£o Hist√≥rica'?",
                answer: "Medidas (financeiras, sociais, simb√≥licas) para compensar um grupo √©tnico pelos danos de injusti√ßas passadas, como a escravid√£o.",
                emoji: "‚è≥",
                colorClass: "bg-yellow-800"
            },
            {
                topic: "Aquilombamento",
                question: "O que significa 'Aquilombamento'?",
                answer: "√â a pr√°tica de criar 'quilombos' modernos: espa√ßos de uni√£o, resist√™ncia, afeto e fortalecimento coletivo entre pessoas negras.",
                emoji: "üèòÔ∏è",
                colorClass: "bg-lime-700"
            },

             // --- 4. Personalidades Hist√≥ricas (7 cards) ---
            {
                topic: "Zumbi & Dandara",
                question: "Quem foram Zumbi e Dandara?",
                answer: "L√≠deres do Quilombo dos Palmares. S√≠mbolos m√°ximos da resist√™ncia negra contra a escravid√£o no Brasil colonial.",
                emoji: "üõ°Ô∏è",
                colorClass: "bg-red-700"
            },
            {
                topic: "Luiza Mahin",
                question: "Qual o papel de Luiza Mahin?",
                answer: "L√≠der rebelde na Bahia, articulou revoltas de escravizados (como a Revolta dos Mal√™s) usando seu tabuleiro de quitutes para passar mensagens.",
                emoji: "üå™Ô∏è",
                colorClass: "bg-rose-700"
            },
            {
                topic: "Carolina Maria de Jesus",
                question: "Por que 'Quarto de Despejo' √© fundamental?",
                answer: "A obra rompeu o sil√™ncio sobre a favela sob a √≥tica de uma mulher negra, tornando-se um marco da literatura brasileira traduzido para 13 l√≠nguas.",
                emoji: "üìù",
                colorClass: "bg-yellow-700"
            },
            {
                topic: "Abdias Nascimento",
                question: "Quem foi Abdias Nascimento?",
                answer: "Pol√≠tico e artista, fundou o Teatro Experimental do Negro e foi um gigante na luta pelos direitos civis e humanos da popula√ß√£o negra.",
                emoji: "üé≠",
                colorClass: "bg-stone-700"
            },
            {
                topic: "Tia Ciata",
                question: "Qual a import√¢ncia de Tia Ciata?",
                answer: "Figura central da cultura afro-brasileira no Rio de Janeiro. Sua casa foi o ber√ßo do samba e um ponto de encontro da resist√™ncia negra.",
                emoji: "ü•Å",
                colorClass: "bg-pink-600"
            },
            {
                topic: "Lima Barreto",
                question: "Qual a relev√¢ncia de Lima Barreto?",
                answer: "Escritor do pr√©-modernismo, foi um cr√≠tico feroz das desigualdades sociais e do racismo no Brasil, muito antes do debate se tornar central.",
                emoji: "üñãÔ∏è",
                colorClass: "bg-sky-700"
            },
            {
                topic: "Revolta dos Mal√™s (1835)",
                question: "O que foi a Revolta dos Mal√™s?",
                answer: "Maior revolta de escravizados urbanos do Brasil, ocorrida em Salvador, liderada por africanos mu√ßulmanos (mal√™s) que sabiam ler e escrever em √°rabe.",
                emoji: "üåô",
                colorClass: "bg-teal-800"
            },

            // --- 5. Cultura, Leis e Luta (5 cards) ---
            {
                topic: "Lei 10.639/03",
                question: "O que determina a Lei 10.639?",
                answer: "Torna obrigat√≥rio o ensino da Hist√≥ria e Cultura Afro-Brasileira nas escolas, fundamental para combater o racismo na educa√ß√£o.",
                emoji: "üè´",
                colorClass: "bg-blue-600"
            },
            {
                topic: "Quilombo",
                question: "O que √© um 'Quilombo'?",
                answer: "Historicamente, eram locais de ref√∫gio de escravizados. Hoje, s√£o comunidades de descendentes que mant√™m suas tradi√ß√µes e lutam pela terra.",
                emoji: "üå≥",
                colorClass: "bg-green-700"
            },
            {
                topic: "Capoeira",
                question: "Qual a origem da Capoeira?",
                answer: "Forma de express√£o cultural que mistura arte marcial, esporte e m√∫sica, criada por escravizados africanos no Brasil como forma de resist√™ncia.",
                emoji: "ü§∏",
                colorClass: "bg-orange-500"
            },
            {
                topic: "Samba",
                question: "Qual a rela√ß√£o do Samba com a resist√™ncia?",
                answer: "Nascido nas periferias e terreiros (como o de Tia Ciata), o Samba foi uma forma de express√£o cultural e uni√£o da comunidade negra, muitas vezes perseguido pela pol√≠cia.",
                emoji: "üé∂",
                colorClass: "bg-indigo-500"
            },
            {
                topic: "Movimento Negro Unificado (MNU)",
                question: "O que √© o MNU?",
                answer: "Organiza√ß√£o fundada em 1978, em plena ditadura, para organizar a luta nacional contra a discrimina√ß√£o racial e pela valoriza√ß√£o da cultura negra.",
                emoji: "üö©",
                colorClass: "bg-black"
            },


            // --- 6. Personalidades Contempor√¢neas (7 cards) ---
            {
                topic: "Sueli Carneiro",
                question: "Qual a import√¢ncia de Sueli Carneiro?",
                answer: "Fundadora do Geled√©s, √© uma das maiores fil√≥sofas vivas do Brasil, essencial para o feminismo negro e para a defesa das cotas raciais.",
                emoji: "üß†",
                colorClass: "bg-teal-700"
            },
            {
                topic: "Concei√ß√£o Evaristo",
                question: "O que √© a 'Escreviv√™ncia'?",
                answer: "Termo cunhado por ela que funde escrita e viv√™ncia. √â a escrita que nasce do cotidiano, das memorias e da experi√™ncia de mulheres negras.",
                emoji: "üìñ",
                colorClass: "bg-amber-700"
            },
            {
                topic: "Silvio Almeida",
                question: "Qual sua contribui√ß√£o te√≥rica principal?",
                answer: "Autor da obra de refer√™ncia 'Racismo Estrutural', essencial para entender como o racismo n√£o √© apenas individual, mas parte da engrenagem social.",
                emoji: "üëî",
                colorClass: "bg-blue-800"
            },
            {
                topic: "Djamila Ribeiro",
                question: "Qual o foco de Djamila Ribeiro?",
                answer: "Fil√≥sofa que popularizou debates sobre feminismo negro e lugar de fala, tornando-os acess√≠veis ao grande p√∫blico atrav√©s de livros best-sellers.",
                emoji: "üëÅÔ∏è",
                colorClass: "bg-fuchsia-700"
            },
            {
                topic: "Emicida",
                question: "Qual a atua√ß√£o de Emicida?",
                answer: "Rapper e pensador, conhecido por letras complexas que resgatam a hist√≥ria negra e promovem reflex√£o social, indo al√©m da m√∫sica.",
                emoji: "üé§",
                colorClass: "bg-gray-700"
            },
            {
                topic: "Erika Hilton",
                question: "Qual o marco de Erika Hilton?",
                answer: "Ativista e pol√≠tica, tornou-se a primeira mulher (negra e trans) a presidir uma comiss√£o na C√¢mara dos Deputados, s√≠mbolo de interseccionalidade.",
                emoji: "üè≥Ô∏è‚Äç‚ößÔ∏è",
                colorClass: "bg-pink-700"
            },
            {
                topic: "L√°zaro Ramos & Ta√≠s Ara√∫jo",
                question: "Qual a relev√¢ncia do casal?",
                answer: "Al√©m de atores renomados, s√£o figuras p√∫blicas ativas no debate racial, usando sua visibilidade para pautar a representatividade na m√≠dia.",
                emoji: "üé¨",
                colorClass: "bg-violet-700"
            }
        ];

        const grid = document.getElementById('flashcards-grid');

        // Fun√ß√£o Global para Resetar os Cart√µes (√∫til para v√≠deo)
        window.resetAllCards = function() {
            document.querySelectorAll('.flashcard-inner').forEach(card => {
                card.classList.remove('is-flipped');
            });
            // Limpa os outputs tamb√©m
            document.querySelectorAll('.gemini-output-box').forEach(box => {
                box.innerHTML = '';
            });
        }

        function createFlashcard(card) {
            const cardElement = document.createElement('div');
            cardElement.className = 'flashcard-container group';
            
            const topicId = card.topic.replace(/\s/g, '-').replace(/[^\w-]/g, '').toLowerCase(); 
            
            // Tenta extrair a cor base para os bot√µes
            let btnTextColor = 'text-gray-800';
            if(card.colorClass.includes('red') || card.colorClass.includes('rose')) btnTextColor = 'text-red-700';
            else if(card.colorClass.includes('blue') || card.colorClass.includes('indigo')) btnTextColor = 'text-blue-700';
            else if(card.colorClass.includes('green') || card.colorClass.includes('emerald')) btnTextColor = 'text-green-700';
            
            cardElement.innerHTML = `
                <div class="flashcard-inner">
                    <!-- Frente -->
                    <div class="flashcard-front ${card.colorClass} shadow-lg border border-white/10">
                        <div class="icon-size transform group-hover:scale-110 transition-transform duration-300">${card.emoji}</div>
                        <h2 class="text-xl sm:text-2xl font-bold mb-3 leading-tight">${card.topic}</h2>
                        <p class="text-sm sm:text-base font-medium px-2 opacity-90">${card.question}</p>
                        <div class="mt-auto pt-4">
                            <span class="inline-block px-3 py-1 bg-black/20 rounded-full text-xs uppercase tracking-wider font-bold">Ver Resposta</span>
                        </div>
                    </div>

                    <!-- Verso -->
                    <div class="flashcard-back ${card.colorClass} shadow-lg border border-white/10">
                        <div class="w-full px-2 flex justify-between items-center border-b border-white/20 pb-2 mb-3">
                            <span class="text-xs font-bold opacity-75 uppercase tracking-widest">Resposta</span>
                            <button class="text-xs bg-white/20 hover:bg-white/30 px-2 py-1 rounded transition" onclick="event.stopPropagation(); this.closest('.flashcard-inner').classList.remove('is-flipped')">‚úï Fechar</button>
                        </div>
                        
                        <p class="text-sm sm:text-base font-medium mb-6 px-2 leading-relaxed text-left w-full">${card.answer}</p>
                        
                        <!-- A√ß√µes IA -->
                        <div class="mt-auto w-full space-y-2 pb-2 px-1">
                            <p class="text-xs opacity-75 mb-1 font-semibold text-left">Explorar com IA ‚ú®</p>
                            <div class="flex space-x-2">
                                <button id="btn-ex-${topicId}" class="btn-glass flex-1 bg-white text-gray-800 font-bold py-2 px-1 rounded-lg text-xs hover:bg-gray-100 transition shadow-sm">
                                    Exemplo Pr√°tico
                                </button>
                                <button id="btn-disc-${topicId}" class="btn-glass flex-1 bg-white text-gray-800 font-bold py-2 px-1 rounded-lg text-xs hover:bg-gray-100 transition shadow-sm">
                                    Gerar Debate
                                </button>
                            </div>

                            <!-- √Åreas de Output -->
                            <div id="out-ex-${topicId}" class="hidden mt-2 p-3 bg-black/30 rounded-lg text-white gemini-output-box border border-white/10"></div>
                            <div id="out-disc-${topicId}" class="hidden mt-2 p-3 bg-black/30 rounded-lg text-white gemini-output-box border border-white/10"></div>
                        </div>
                    </div>
                </div>
            `;

            // L√≥gica de Flip
            const inner = cardElement.querySelector('.flashcard-inner');
            cardElement.addEventListener('click', (e) => {
                // Ignora cliques nos bot√µes e na √°rea de output para permitir sele√ß√£o de texto
                if (e.target.tagName === 'BUTTON' || e.target.closest('.gemini-output-box')) return;
                inner.classList.toggle('is-flipped');
            });

            // Handler Bot√£o Exemplo
            const btnEx = cardElement.querySelector(`#btn-ex-${topicId}`);
            const outEx = cardElement.querySelector(`#out-ex-${topicId}`);
            
            btnEx.addEventListener('click', async (e) => {
                e.stopPropagation();
                outEx.classList.remove('hidden');
                outEx.innerHTML = '<span class="animate-pulse">Gerando exemplo...</span>';
                btnEx.disabled = true;
                
                const text = await generateExample(card.topic, card.answer);
                outEx.innerHTML = `<strong class="block text-yellow-300 mb-1">Exemplo:</strong>${text}`;
                btnEx.disabled = false;
            });

            // Handler Bot√£o Discuss√£o
            const btnDisc = cardElement.querySelector(`#btn-disc-${topicId}`);
            const outDisc = cardElement.querySelector(`#out-disc-${topicId}`);
            
            btnDisc.addEventListener('click', async (e) => {
                e.stopPropagation();
                outDisc.classList.remove('hidden');
                outDisc.innerHTML = '<span class="animate-pulse">Criando quest√£o...</span>';
                btnDisc.disabled = true;
                
                const text = await generateDiscussionQuestion(card.topic, card.answer);
                outDisc.innerHTML = `<strong class="block text-green-300 mb-1">Para Debate:</strong>${text}`;
                btnDisc.disabled = false;
            });

            grid.appendChild(cardElement);
        }

        flashcardsData.forEach(createFlashcard);
    </script>
</body>
</html>
